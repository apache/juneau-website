<!DOCTYPE html>
<html lang="en">
<head>
	<!-- Google Tag Manager -->
	<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
	new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
	'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-MT3PBTF');</script>
	<!-- End Google Tag Manager -->

	<style>
		@import url("styles/juneau-code.css");
		@import url("styles/juneau-doc.css");
	</style>
</head>
<body>
	<!-- Google Tag Manager (noscript) -->
	<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MT3PBTF"
	height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
	<!-- End Google Tag Manager (noscript) -->	

	<!-- ======================================================================================================= -->
	<!-- === JUNEAU-REST-CLIENT ================================================================================ -->
	<!-- ======================================================================================================= -->
	
	<h5 class='toc' id='juneau-rest-client'>juneau-rest-client</h5>
	<div class='topic'>
		<h5 class='figure'>Maven Dependency</h5>
		<p class='bcode w500'>
	<xt>&lt;dependency&gt;</xt>
		<xt>&lt;groupId&gt;</xt>org.apache.juneau<xt>&lt;/groupId&gt;</xt>
		<xt>&lt;artifactId&gt;</xt>juneau-rest-client<xt>&lt;/artifactId&gt;</xt>
		<xt>&lt;version&gt;</xt>9.0-B1<xt>&lt;/version&gt;</xt>
	<xt>&lt;/dependency&gt;</xt>
		</p>	
	
		<h5 class='figure'>Java Library</h5>
		<p class='bcode w500'>
	juneau-rest-client-9.0-B1.jar 
		</p>	
	
		<h5 class='figure'>OSGi Module</h5>
		<p class='bcode w500'>
	org.apache.juneau.rest.client_9.0-B1.jar 
		</p>	

		<p>
			Built upon the feature-rich Apache HttpClient library, the Juneau RestClient API adds support for fluent-style
			REST calls and the ability to perform marshalling of POJOs to and from HTTP parts.
		</p>
		
		<h5 class='figure'>Example:</h5>
		<p class='bcode w800'>
	<jc>// Create a basic REST client with JSON support and download a bean.</jc>
	MyBean <jv>bean</jv> = RestClient.<jsm>create</jsm>()
		.simpleJson()
		.build()
		.get(<jsf>URI</jsf>)
		.run()
		.assertStatus().code().is(200)
		.assertHeader(<js>"Content-Type"</js>).matchesSimple(<js>"application/json*"</js>)
		.getBody().as(MyBean.<jk>class</jk>);
		</p>
		
		<p>
			Breaking apart the fluent call, we can see the classes being used:
		</p>
		
		<p class='bcode w800'>
	RestClientBuilder <jv>builder</jv> = RestClient.<jsm>create</jsm>().simpleJson();
	RestClient <jv>client</jv> = <jv>builder</jv>.build();
	RestRequest <jv>req</jv> = <jv>client</jv>.get(<jsf>URI</jsf>);
	RestResponse <jv>res</jv> = <jv>req</jv>.run();
	RestResponseStatusLineAssertion <jv>statusLineAssertion</jv> = <jv>res</jv>.assertStatus();
	FluentIntegerAssertion&lt;RestResponse&gt; <jv>codeAssertion</jv> = <jv>statusLineAssertion</jv>.code();
	<jv>res</jv> = <jv>codeAssertion</jv>.is(200);
	FluentStringAssertion&lt;RestResponse&gt; <jv>headerAssertion</jv> = <jv>res</jv>.assertHeader(<js>"Content-Type"</js>);
	<jv>res</jv> = <jv>headerAssertion</jv>.matchesSimple(<js>"application/json*"</js>);
	RestResponseBody <jv>body</jv> = <jv>res</jv>.getBody();
	MyBean <jv>bean</jv> = <jv>body</jv>.as(MyBean.<jk>class</jk>);
		</p>
		
		<p>
			It additionally provides support for creating remote proxy interfaces using REST as the transport medium.
		</p>
		
		<h5 class='figure'>Example:</h5>
		<p class='bcode w800'>
	<jc>// Define a Remote proxy for interacting with a REST interface.</jc>
	<ja>@Remote</ja>(path=<js>"/petstore"</js>)
	<jk>public interface</jk> PetStore {
	
		<ja>@RemoteMethod</ja>(method=<jsf>POST</jsf>, path=<js>"/pets"</js>)
		Pet addPet(
			<ja>@Body</ja> CreatePet <jv>pet</jv>,
			<ja>@Header</ja>(<js>"E-Tag"</js>) UUID <jv>etag</jv>,
			<ja>@Query</ja>(<js>"debug"</js>) <jk>boolean</jk> <jv>debug</jv>
		);
	}

	<jc>// Use a RestClient with default Simple JSON support.</jc>
	RestClient <jv>client</jv> = RestClient.<jsm>create</jsm>().simpleJson().build();
	
	PetStore <jv>store</jv> = <jv>client</jv>.getRemote(PetStore.<jk>class</jk>, <js>"http://localhost:10000"</js>);
	CreatePet <jv>createPet</jv> = <jk>new</jk> CreatePet(<js>"Fluffy"</js>, 9.99);
	Pet <jv>pet</jv> = <jv>store</jv>.addPet(<jv>createPet</jv>, UUID.<jsm>randomUUID</jsm>(), <jk>true</jk>);
		</p>
	
		<ul class='seealso'>
			<li><a class='doclink' href='http://juneau.apache.org/site/apidocs-9.0-B1/overview-summary.html#juneau-rest-client'>juneau-rest-client</a>
		</ul>
	</div>	
</body>
</html>